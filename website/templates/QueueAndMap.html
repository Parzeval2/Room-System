<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
        <title>IESB Study Rooms Login</title>
        <link rel = "icon" href = "https://brand.latech.edu/wp-content/uploads/sites/13/2021/03/favicon-300x300-1.png" type = "image/x-icon">
        <link rel="stylesheet" type="text/css" href="../static/features.css">
    </head>
    {{turbo()}}
    {% if popup == True %}
        <script>
            roomReady(message)
        </script>
    {%endif%}
    <body>
                <div class="row">
                    <section class="header" style="margin-bottom: 5vh;">
                    <h2 class="banner">IESB Study Rooms</h2>
                    </section>
                </div>
        
                <div class="row"> 
                        <script>
                           var flashthis = {{ message }};
                           alert(flashthis);
                       </script>
                </div>

        <div class="container-fluid" style="width: 50%; float:left; text-align: center">

                <div class="blank"> 
                </div>

                <div class="row"> <div class="col">
                        <div class="topic">Queue</div>
                </div></div>

            <div class="inputbox">
                <div class="row" style="text-align: center;">
                    <div id="hidestuff"><button type="submit" class="leavequeue" onclick="showDiv()" formnovalidate>■ Leave Queue</button></div>

                    <div style="display:none" id="showstuff">
                        <a href="leave_queue" style="position:relative"><button type="submit" class="leavequeue">■ Leave Queue</button></a>
                        <div class="leavequeueHint">Hit Leave Queue again when done</div>
                        <textarea id="leavequeueCWID" name="leavequeueCWID" placeholder="Input CWID..." maxlength="8" required></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid" style="width: 50%; float:left; text-align: center">

                <div class="blank"> 
                </div>

                <div class="row"> <div class="col">
                        <div class="topic">Maps</div>
                </div></div>

            <div class="inputbox"> 

                <div class = "row">
                    <div>Floor {{ floor_int }}</div>
                </div>

                <div class="row">
                    <div>
                    <button class="mappage" onclick="previousPage()" style="border-top-left-radius: 15px; border-bottom-left-radius: 15px;"><</button>
                    <img id="map" src="../static/Floor1.png" style="width:300px; height:200px; margin-top:-25px">
                    <button class="mappage" onclick="nextPage()" style="border-top-right-radius: 15px; border-bottom-right-radius: 15px;">></button>
                    </div>
                </div>
            </div>
        </div>
        <script> function showDiv() {
               document.getElementById('showstuff').style.display = "block";
               document.getElementById('hidestuff').style.display = "none";}
        </script>
        <script>
            var images = ["../static/Floor1.png","../static/Floor2.png","../static/Floor3.png"];
            var currentImageIndex = 0;
      
            function nextPage() {
              var image = document.getElementById('map');
              currentImageIndex = (currentImageIndex + 1) % images.length;
              image.src = images[currentImageIndex];
            }
            function previousPage() {
              var image = document.getElementById('map');
              if(currentImageIndex-1 < 0) {currentImageIndex = 3;}
              currentImageIndex = (currentImageIndex - 1) % images.length;
              image.src = images[currentImageIndex];
            }
        </script>
        <script>
            function roomReady(message) {
                alert(message)
            }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    </body>
</html>
